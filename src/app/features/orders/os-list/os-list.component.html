<div class="p-8 space-y-8 animate-in fade-in duration-700">
  <div class="flex justify-between items-center">
    <div>
      <h1 class="text-4xl font-black text-[#1e293b] tracking-tighter">
        ORDENS DE <span class="text-blue-600">SERVIÇO</span>
      </h1>
      <p class="text-slate-400 font-bold text-xs uppercase tracking-[0.3em] mt-1">
        Gestão de Manutenção em Tempo Real
      </p>
    </div>

    <button
      (click)="openNewOS()"
      class="bg-[#1e293b] hover:bg-blue-600 text-white px-8 py-4 rounded-2xl text-xs font-black transition-all flex items-center gap-3 shadow-2xl shadow-blue-900/20 active:scale-95"
    >
      <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">
        <path d="M12 4v16m8-8H4" />
      </svg>
      ABRIR NOVA OS
    </button>
  </div>

  <div class="flex gap-4 overflow-x-auto pb-2">
    @for (stat of ['ALL', 'OPEN', 'IN_PROGRESS', 'COMPLETED']; track stat) {
      <button
        (click)="filterBy(stat)"
        [class]="statusFilter() === stat ? 'bg-blue-600 text-white' : 'bg-white text-slate-400'"
        class="px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest border border-slate-100 shadow-sm transition-all whitespace-nowrap"
      >
        {{ stat }}
      </button>
    }
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    @for (os of filteredOrders(); track os.id) {
      <div
        class="group bg-white border border-slate-100 p-8 rounded-[32px] hover:border-blue-200 transition-all hover:shadow-xl hover:shadow-blue-900/5 relative overflow-hidden"
      >
        <div
          class="absolute top-0 right-0 w-24 h-24 -mr-8 -mt-8 bg-slate-50 rounded-full group-hover:bg-blue-50 transition-colors"
        ></div>

        <div class="relative z-10">
          <div class="flex justify-between items-start mb-6">
            <div>
              <span class="text-[10px] font-black text-blue-500 uppercase tracking-widest">{{
                os.osNumber
              }}</span>
              <h3 class="text-xl font-black text-slate-800 tracking-tight mt-1 uppercase">
                {{ os.customerName }}
              </h3>
            </div>
            <span
              [class]="
                'px-3 py-1 rounded-lg text-[9px] font-black uppercase ' + getStatusClass(os.status)
              "
            >
              {{ os.status }}
            </span>
          </div>

          <div class="flex items-center gap-4 text-slate-500 mb-6">
            <div class="flex items-center gap-2">
              <div class="w-8 h-8 bg-slate-50 rounded-lg flex items-center justify-center">
                <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path d="M13 10V3L4 14h7v7l9-11h-7z" />
                </svg>
              </div>
              <span class="text-xs font-bold">{{ os.equipmentName }}</span>
            </div>
            <div class="w-1 h-1 bg-slate-200 rounded-full"></div>
            <span class="text-xs font-bold uppercase">{{ os.type }}</span>
          </div>

          <div class="flex justify-between items-center pt-6 border-t border-slate-50">
            <div class="flex -space-x-2">
              <div
                class="w-8 h-8 rounded-full bg-blue-100 border-2 border-white flex items-center justify-center text-[10px] font-bold text-blue-600"
              >
                {{ os.technicianName.substring(0, 2) }}
              </div>
            </div>
            <button
              class="text-[10px] font-black text-slate-400 hover:text-blue-600 transition-colors uppercase tracking-widest"
            >
              Gerenciar OS →
            </button>
          </div>
        </div>
      </div>
    }
  </div>
</div>
@if (showForm()) {
  <app-os-form (close)="closeForm()"></app-os-form>
}
